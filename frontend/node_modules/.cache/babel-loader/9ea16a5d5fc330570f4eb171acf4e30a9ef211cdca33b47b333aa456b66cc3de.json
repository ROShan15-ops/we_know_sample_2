{"ast":null,"code":"import React,{useState,useEffect,useCallback,useRef}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignupModal=_ref=>{let{isOpen,onClose,onSignup}=_ref;const[signupData,setSignupData]=useState({name:'',email:'',password:'',confirmPassword:''});const[selectedAllergies,setSelectedAllergies]=useState([]);const[customAllergy,setCustomAllergy]=useState('');const[commonAllergens,setCommonAllergens]=useState([]);const[currentStep,setCurrentStep]=useState(1);const[authError,setAuthError]=useState('');const[isLoading,setIsLoading]=useState(false);const nameRef=useRef(null);const emailRef=useRef(null);const passwordRef=useRef(null);const confirmPasswordRef=useRef(null);useEffect(()=>{if(isOpen&&nameRef.current){setTimeout(()=>{nameRef.current.focus();},100);}},[isOpen]);// Fetch common allergens when modal opens\nuseEffect(()=>{if(isOpen){fetchCommonAllergens();}},[isOpen]);const fetchCommonAllergens=async()=>{try{const response=await axios.get('http://localhost:8000/allergies/common');if(response.data.success){setCommonAllergens(response.data.allergens);}}catch(error){console.error('Failed to fetch common allergens:',error);}};const handleNameChange=useCallback(e=>{setSignupData(prev=>({...prev,name:e.target.value}));},[]);const handleEmailChange=useCallback(e=>{setSignupData(prev=>({...prev,email:e.target.value}));},[]);const handlePasswordChange=useCallback(e=>{setSignupData(prev=>({...prev,password:e.target.value}));},[]);const handleConfirmPasswordChange=useCallback(e=>{setSignupData(prev=>({...prev,confirmPassword:e.target.value}));},[]);const handleAllergyToggle=allergy=>{setSelectedAllergies(prev=>prev.includes(allergy)?prev.filter(a=>a!==allergy):[...prev,allergy]);};const handleCustomAllergyAdd=()=>{if(customAllergy.trim()&&!selectedAllergies.includes(customAllergy.trim())){setSelectedAllergies(prev=>[...prev,customAllergy.trim()]);setCustomAllergy('');}};const handleCustomAllergyRemove=allergy=>{setSelectedAllergies(prev=>prev.filter(a=>a!==allergy));};const handleNextStep=()=>{if(currentStep===1){if(!signupData.name||!signupData.email||!signupData.password||!signupData.confirmPassword){setAuthError('Please fill in all fields');return;}if(signupData.password!==signupData.confirmPassword){setAuthError('Passwords do not match');return;}if(signupData.password.length<6){setAuthError('Password must be at least 6 characters');return;}setCurrentStep(2);setAuthError('');}};const handlePrevStep=()=>{setCurrentStep(1);setAuthError('');};const handleSubmit=async e=>{e.preventDefault();setAuthError('');setIsLoading(true);try{const response=await axios.post('http://localhost:8000/auth/register',{name:signupData.name,email:signupData.email,password:signupData.password,allergies:selectedAllergies});if(response.data.success){localStorage.setItem('weKnowToken',response.data.access_token);localStorage.setItem('weKnowUser',JSON.stringify(response.data.user));onSignup();setSignupData({name:'',email:'',password:'',confirmPassword:''});setSelectedAllergies([]);setCurrentStep(1);}else{setAuthError(response.data.error||'Registration failed');}}catch(err){var _err$response,_err$response$data;console.error('Registration error:',err);if((_err$response=err.response)!==null&&_err$response!==void 0&&(_err$response$data=_err$response.data)!==null&&_err$response$data!==void 0&&_err$response$data.error){setAuthError(err.response.data.error);}else{setAuthError('Failed to connect to the server. Please try again.');}}finally{setIsLoading(false);}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-modal\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:`step ${currentStep>=1?'active':''}`,children:\"1. Account\"}),/*#__PURE__*/_jsx(\"div\",{className:`step ${currentStep>=2?'active':''}`,children:\"2. Allergies\"})]}),currentStep===1&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full Name\",value:signupData.name,onChange:handleNameChange,required:true,autoComplete:\"name\",ref:nameRef})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:signupData.email,onChange:handleEmailChange,required:true,autoComplete:\"email\",ref:emailRef})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:signupData.password,onChange:handlePasswordChange,required:true,autoComplete:\"new-password\",ref:passwordRef})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",value:signupData.confirmPassword,onChange:handleConfirmPasswordChange,required:true,autoComplete:\"new-password\",ref:confirmPasswordRef})}),authError&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-error\",children:authError}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleNextStep,className:\"auth-submit-button\",children:\"Next: Allergies\"})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"allergy-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Select Your Allergies (Optional)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"allergy-description\",children:\"Help us keep you safe by selecting any food allergies you have. We'll warn you about dishes containing these ingredients.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"allergy-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Common Allergens\"}),/*#__PURE__*/_jsx(\"div\",{className:\"allergy-checkboxes\",children:commonAllergens.length>0?commonAllergens.map(allergy=>/*#__PURE__*/_jsxs(\"label\",{className:\"allergy-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedAllergies.includes(allergy),onChange:()=>handleAllergyToggle(allergy)}),/*#__PURE__*/_jsx(\"span\",{children:allergy})]},allergy)):/*#__PURE__*/_jsxs(\"div\",{className:\"loading-allergens\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Loading common allergens...\"}),['peanuts','tree nuts','shellfish','dairy','eggs'].map(allergy=>/*#__PURE__*/_jsxs(\"label\",{className:\"allergy-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedAllergies.includes(allergy),onChange:()=>handleAllergyToggle(allergy)}),/*#__PURE__*/_jsx(\"span\",{children:allergy})]},allergy))]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"allergy-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Custom Allergies\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-allergy-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add custom allergy (e.g., kiwi, mango)\",value:customAllergy,onChange:e=>setCustomAllergy(e.target.value),onKeyPress:e=>e.key==='Enter'&&(e.preventDefault(),handleCustomAllergyAdd())}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCustomAllergyAdd,className:\"add-allergy-btn\",children:\"Add\"})]}),selectedAllergies.filter(a=>!commonAllergens.includes(a)).length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"selected-custom-allergies\",children:selectedAllergies.filter(allergy=>!commonAllergens.includes(allergy)).map(allergy=>/*#__PURE__*/_jsxs(\"span\",{className:\"allergy-tag\",children:[allergy,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleCustomAllergyRemove(allergy),className:\"remove-allergy-btn\",children:\"\\xD7\"})]},allergy))})]}),selectedAllergies.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected-allergies-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Your Allergies:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"allergy-tags\",children:selectedAllergies.map(allergy=>/*#__PURE__*/_jsx(\"span\",{className:\"allergy-tag\",children:allergy},allergy))})]})]}),authError&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-error\",children:authError}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlePrevStep,className:\"auth-back-button\",children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth-submit-button\",disabled:isLoading,children:isLoading?'Creating Account...':'Create Account'})]})]})]})},\"signin-modal\");};export default SignupModal;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","axios","jsx","_jsx","jsxs","_jsxs","SignupModal","_ref","isOpen","onClose","onSignup","signupData","setSignupData","name","email","password","confirmPassword","selectedAllergies","setSelectedAllergies","customAllergy","setCustomAllergy","commonAllergens","setCommonAllergens","currentStep","setCurrentStep","authError","setAuthError","isLoading","setIsLoading","nameRef","emailRef","passwordRef","confirmPasswordRef","current","setTimeout","focus","fetchCommonAllergens","response","get","data","success","allergens","error","console","handleNameChange","e","prev","target","value","handleEmailChange","handlePasswordChange","handleConfirmPasswordChange","handleAllergyToggle","allergy","includes","filter","a","handleCustomAllergyAdd","trim","handleCustomAllergyRemove","handleNextStep","length","handlePrevStep","handleSubmit","preventDefault","post","allergies","localStorage","setItem","access_token","JSON","stringify","user","err","_err$response","_err$response$data","className","children","onClick","onSubmit","type","placeholder","onChange","required","autoComplete","ref","map","checked","onKeyPress","key","disabled"],"sources":["/Users/roshan/Desktop/we_know_sample_2/frontend/src/components/SignupModal.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport axios from 'axios';\n\nconst SignupModal = ({ isOpen, onClose, onSignup }) => {\n  const [signupData, setSignupData] = useState({ name: '', email: '', password: '', confirmPassword: '' });\n  const [selectedAllergies, setSelectedAllergies] = useState([]);\n  const [customAllergy, setCustomAllergy] = useState('');\n  const [commonAllergens, setCommonAllergens] = useState([]);\n  const [currentStep, setCurrentStep] = useState(1);\n  const [authError, setAuthError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const nameRef = useRef(null);\n  const emailRef = useRef(null);\n  const passwordRef = useRef(null);\n  const confirmPasswordRef = useRef(null);\n\n  useEffect(() => {\n    if (isOpen && nameRef.current) {\n      setTimeout(() => {\n        nameRef.current.focus();\n      }, 100);\n    }\n  }, [isOpen]);\n\n  // Fetch common allergens when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      fetchCommonAllergens();\n    }\n  }, [isOpen]);\n\n  const fetchCommonAllergens = async () => {\n    try {\n      const response = await axios.get('http://localhost:8000/allergies/common');\n      if (response.data.success) {\n        setCommonAllergens(response.data.allergens);\n      }\n    } catch (error) {\n      console.error('Failed to fetch common allergens:', error);\n    }\n  };\n\n  const handleNameChange = useCallback((e) => {\n    setSignupData(prev => ({...prev, name: e.target.value}));\n  }, []);\n\n  const handleEmailChange = useCallback((e) => {\n    setSignupData(prev => ({...prev, email: e.target.value}));\n  }, []);\n\n  const handlePasswordChange = useCallback((e) => {\n    setSignupData(prev => ({...prev, password: e.target.value}));\n  }, []);\n\n  const handleConfirmPasswordChange = useCallback((e) => {\n    setSignupData(prev => ({...prev, confirmPassword: e.target.value}));\n  }, []);\n\n  const handleAllergyToggle = (allergy) => {\n    setSelectedAllergies(prev => \n      prev.includes(allergy) \n        ? prev.filter(a => a !== allergy)\n        : [...prev, allergy]\n    );\n  };\n\n  const handleCustomAllergyAdd = () => {\n    if (customAllergy.trim() && !selectedAllergies.includes(customAllergy.trim())) {\n      setSelectedAllergies(prev => [...prev, customAllergy.trim()]);\n      setCustomAllergy('');\n    }\n  };\n\n  const handleCustomAllergyRemove = (allergy) => {\n    setSelectedAllergies(prev => prev.filter(a => a !== allergy));\n  };\n\n  const handleNextStep = () => {\n    if (currentStep === 1) {\n      if (!signupData.name || !signupData.email || !signupData.password || !signupData.confirmPassword) {\n        setAuthError('Please fill in all fields');\n        return;\n      }\n      if (signupData.password !== signupData.confirmPassword) {\n        setAuthError('Passwords do not match');\n        return;\n      }\n      if (signupData.password.length < 6) {\n        setAuthError('Password must be at least 6 characters');\n        return;\n      }\n      setCurrentStep(2);\n      setAuthError('');\n    }\n  };\n\n  const handlePrevStep = () => {\n    setCurrentStep(1);\n    setAuthError('');\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setAuthError('');\n    setIsLoading(true);\n    \n    try {\n      const response = await axios.post('http://localhost:8000/auth/register', {\n        name: signupData.name,\n        email: signupData.email,\n        password: signupData.password,\n        allergies: selectedAllergies\n      });\n\n      if (response.data.success) {\n        localStorage.setItem('weKnowToken', response.data.access_token);\n        localStorage.setItem('weKnowUser', JSON.stringify(response.data.user));\n        onSignup();\n        setSignupData({ name: '', email: '', password: '', confirmPassword: '' });\n        setSelectedAllergies([]);\n        setCurrentStep(1);\n      } else {\n        setAuthError(response.data.error || 'Registration failed');\n      }\n    } catch (err) {\n      console.error('Registration error:', err);\n      if (err.response?.data?.error) {\n        setAuthError(err.response.data.error);\n      } else {\n        setAuthError('Failed to connect to the server. Please try again.');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n\n\n  return (\n    <div className=\"modal-overlay\" key=\"signin-modal\">\n      <div className=\"auth-modal\">\n        <button className=\"close-button\" onClick={onClose}>×</button>\n        <h2>Sign Up</h2>\n        \n        {/* Step indicator */}\n        <div className=\"step-indicator\">\n          <div className={`step ${currentStep >= 1 ? 'active' : ''}`}>1. Account</div>\n          <div className={`step ${currentStep >= 2 ? 'active' : ''}`}>2. Allergies</div>\n        </div>\n        \n\n\n        {currentStep === 1 && (\n          <form onSubmit={(e) => { e.preventDefault(); }}>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                placeholder=\"Full Name\"\n                value={signupData.name}\n                onChange={handleNameChange}\n                required\n                autoComplete=\"name\"\n                ref={nameRef}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                value={signupData.email}\n                onChange={handleEmailChange}\n                required\n                autoComplete=\"email\"\n                ref={emailRef}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={signupData.password}\n                onChange={handlePasswordChange}\n                required\n                autoComplete=\"new-password\"\n                ref={passwordRef}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                placeholder=\"Confirm Password\"\n                value={signupData.confirmPassword}\n                onChange={handleConfirmPasswordChange}\n                required\n                autoComplete=\"new-password\"\n                ref={confirmPasswordRef}\n              />\n            </div>\n            {authError && <div className=\"auth-error\">{authError}</div>}\n            <button type=\"button\" onClick={handleNextStep} className=\"auth-submit-button\">Next: Allergies</button>\n          </form>\n        )}\n\n        {currentStep === 2 && (\n          <form onSubmit={handleSubmit}>\n            <div className=\"allergy-section\">\n              <h3>Select Your Allergies (Optional)</h3>\n              <p className=\"allergy-description\">\n                Help us keep you safe by selecting any food allergies you have. \n                We'll warn you about dishes containing these ingredients.\n              </p>\n              \n              {/* Common Allergens */}\n              <div className=\"allergy-group\">\n                <h4>Common Allergens</h4>\n                <div className=\"allergy-checkboxes\">\n                  {commonAllergens.length > 0 ? (\n                    commonAllergens.map((allergy) => (\n                      <label key={allergy} className=\"allergy-checkbox\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedAllergies.includes(allergy)}\n                          onChange={() => handleAllergyToggle(allergy)}\n                        />\n                        <span>{allergy}</span>\n                      </label>\n                    ))\n                  ) : (\n                    <div className=\"loading-allergens\">\n                      <p>Loading common allergens...</p>\n                      {/* Fallback allergens in case API fails */}\n                      {['peanuts', 'tree nuts', 'shellfish', 'dairy', 'eggs'].map((allergy) => (\n                        <label key={allergy} className=\"allergy-checkbox\">\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedAllergies.includes(allergy)}\n                            onChange={() => handleAllergyToggle(allergy)}\n                          />\n                          <span>{allergy}</span>\n                        </label>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Custom Allergies */}\n              <div className=\"allergy-group\">\n                <h4>Custom Allergies</h4>\n                <div className=\"custom-allergy-input\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Add custom allergy (e.g., kiwi, mango)\"\n                    value={customAllergy}\n                    onChange={(e) => setCustomAllergy(e.target.value)}\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleCustomAllergyAdd())}\n                  />\n                  <button \n                    type=\"button\" \n                    onClick={handleCustomAllergyAdd}\n                    className=\"add-allergy-btn\"\n                  >\n                    Add\n                  </button>\n                </div>\n                \n                {/* Selected Custom Allergies */}\n                {selectedAllergies.filter(a => !commonAllergens.includes(a)).length > 0 && (\n                  <div className=\"selected-custom-allergies\">\n                    {selectedAllergies\n                      .filter(allergy => !commonAllergens.includes(allergy))\n                      .map((allergy) => (\n                        <span key={allergy} className=\"allergy-tag\">\n                          {allergy}\n                          <button \n                            type=\"button\" \n                            onClick={() => handleCustomAllergyRemove(allergy)}\n                            className=\"remove-allergy-btn\"\n                          >\n                            ×\n                          </button>\n                        </span>\n                      ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Selected Allergies Summary */}\n              {selectedAllergies.length > 0 && (\n                <div className=\"selected-allergies-summary\">\n                  <h4>Your Allergies:</h4>\n                  <div className=\"allergy-tags\">\n                    {selectedAllergies.map((allergy) => (\n                      <span key={allergy} className=\"allergy-tag\">\n                        {allergy}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {authError && <div className=\"auth-error\">{authError}</div>}\n            <div className=\"auth-buttons\">\n              <button type=\"button\" onClick={handlePrevStep} className=\"auth-back-button\">\n                Back\n              </button>\n              <button type=\"submit\" className=\"auth-submit-button\" disabled={isLoading}>\n                {isLoading ? 'Creating Account...' : 'Create Account'}\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SignupModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}