{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./AlternativeIngredientsModal.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AlternativeIngredientsModal=_ref=>{let{isOpen,onClose,alternativeSuggestions,originalIngredients,onReplaceIngredients}=_ref;const[selectedAlternatives,setSelectedAlternatives]=useState({});const[showConfirmation,setShowConfirmation]=useState(false);const[activeTab,setActiveTab]=useState('allergens');// Prevent body scrolling when modal is open\nuseEffect(()=>{if(isOpen){document.body.style.overflow='hidden';}else{document.body.style.overflow='unset';}// Cleanup function to restore body scrolling when component unmounts\nreturn()=>{document.body.style.overflow='unset';};},[isOpen]);if(!isOpen)return null;console.log('Modal opened - isOpen:',isOpen);console.log('Modal opened - alternativeSuggestions:',alternativeSuggestions);console.log('Modal opened - originalIngredients:',originalIngredients);// Debug: Log each allergen and its alternatives\nif(alternativeSuggestions){Object.entries(alternativeSuggestions).forEach(_ref2=>{let[allergen,ingredientAlternatives]=_ref2;console.log(`Allergen ${allergen}:`,ingredientAlternatives);Object.entries(ingredientAlternatives).forEach(_ref3=>{let[ingredient,alternatives]=_ref3;console.log(`  ${ingredient} alternatives:`,alternatives);});});}const handleAlternativeSelect=(allergen,originalIngredient,alternative)=>{setSelectedAlternatives(prev=>({...prev,[originalIngredient]:alternative}));};const handleApplyChanges=()=>{// Create new ingredients list with replacements\nconst updatedIngredients=originalIngredients.map(ingredient=>{const originalName=ingredient.ingredient;const replacement=selectedAlternatives[originalName];if(replacement){return{...ingredient,ingredient:replacement,original_ingredient:originalName,// Keep track of what was replaced\nis_replacement:true};}return ingredient;});onReplaceIngredients(updatedIngredients);setShowConfirmation(true);// Close modal after 2 seconds\nsetTimeout(()=>{setShowConfirmation(false);onClose();setSelectedAlternatives({});},2000);};const getIngredientQuantity=originalName=>{const ingredient=originalIngredients.find(ing=>ing.ingredient===originalName);return ingredient?`${ingredient.quantity} ${ingredient.unit||''}`.trim():'';};const getAllergenIcon=allergen=>{const icons={dairy:'ü•õ',nuts:'ü•ú',gluten:'üåæ',eggs:'ü•ö',shellfish:'ü¶ê',soy:'ü´ò',fish:'üêü',wheat:'üåæ'};return icons[allergen.toLowerCase()]||'‚ö†Ô∏è';};const getAlternativeIcon=alternative=>{if(alternative.includes('almond'))return'ü•ú';if(alternative.includes('coconut'))return'ü••';if(alternative.includes('soy'))return'ü´ò';if(alternative.includes('oat'))return'üåæ';if(alternative.includes('rice'))return'üçö';if(alternative.includes('lemon'))return'üçã';if(alternative.includes('vinegar'))return'üç∂';return'üîÑ';};return/*#__PURE__*/_jsx(\"div\",{className:\"alternative-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alternative-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alternative-modal-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-icon\",children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-text\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Ingredient Alternatives\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Make your recipe allergy-safe\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"18\",y1:\"6\",x2:\"6\",y2:\"18\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"6\",y1:\"6\",x2:\"18\",y2:\"18\"})]})})]}),showConfirmation?/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-message\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Ingredients Updated!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your recipe has been updated with safe alternatives.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alternative-modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`tab-btn ${activeTab==='allergens'?'active':''}`,onClick:()=>setActiveTab('allergens'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:\"\\u26A0\\uFE0F\"}),\"Allergens\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`tab-btn ${activeTab==='summary'?'active':''}`,onClick:()=>setActiveTab('summary'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:\"\\uD83D\\uDCCB\"}),\"Summary\"]})]}),activeTab==='allergens'&&/*#__PURE__*/_jsxs(\"div\",{className:\"allergens-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Select Safe Alternatives\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Choose replacements for ingredients that contain allergens in your profile\"})]}),Object.entries(alternativeSuggestions).map(_ref4=>{let[allergen,ingredientAlternatives]=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"allergen-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"allergen-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"allergen-icon\",children:getAllergenIcon(allergen)}),/*#__PURE__*/_jsxs(\"div\",{className:\"allergen-info\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[allergen.charAt(0).toUpperCase()+allergen.slice(1),\" Allergy\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"allergen-count\",children:[Object.keys(ingredientAlternatives).length,\" ingredient\",Object.keys(ingredientAlternatives).length!==1?'s':'',\" to replace\"]})]})]}),Object.entries(ingredientAlternatives).map(_ref5=>{let[originalIngredient,alternatives]=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"original-ingredient\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"original-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"original-name\",children:originalIngredient}),/*#__PURE__*/_jsx(\"span\",{className:\"original-quantity\",children:getIngredientQuantity(originalIngredient)})]}),/*#__PURE__*/_jsx(\"span\",{className:\"original-badge\",children:\"Original\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alternatives-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Choose a replacement:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"alternatives-grid\",children:[console.log(`Rendering ${alternatives.length} alternatives for ${originalIngredient}:`,alternatives),alternatives.map((alternative,index)=>{console.log(`Rendering alternative ${index}:`,alternative);return/*#__PURE__*/_jsxs(\"label\",{className:`alternative-card ${selectedAlternatives[originalIngredient]===alternative?'selected':''}`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:originalIngredient,value:alternative,checked:selectedAlternatives[originalIngredient]===alternative,onChange:()=>handleAlternativeSelect(allergen,originalIngredient,alternative)}),/*#__PURE__*/_jsxs(\"div\",{className:\"alternative-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alternative-icon\",children:getAlternativeIcon(alternative)}),/*#__PURE__*/_jsx(\"span\",{className:\"alternative-text\",children:alternative})]}),/*#__PURE__*/_jsx(\"div\",{className:\"selection-indicator\",children:/*#__PURE__*/_jsx(\"div\",{className:\"radio-circle\"})})]},index);})]})]})]},originalIngredient);})]},allergen);})]}),activeTab==='summary'&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Replacement Summary\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Review your selected alternatives before applying\"})]}),Object.keys(selectedAlternatives).length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-summary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"No replacements selected\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Go back to the Allergens tab to choose alternatives\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"replacements-list\",children:Object.entries(selectedAlternatives).map(_ref6=>{let[original,replacement]=_ref6;return/*#__PURE__*/_jsx(\"div\",{className:\"replacement-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"replacement-arrow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"original-text\",children:original}),/*#__PURE__*/_jsxs(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M7 13l5 5 5-5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M7 6l5 5 5-5\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"replacement-text\",children:replacement})]})},original);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alternative-modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cancel-btn\",onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{className:`apply-btn ${Object.keys(selectedAlternatives).length>0?'active':'disabled'}`,onClick:handleApplyChanges,disabled:Object.keys(selectedAlternatives).length===0,children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:\"\\u2705\"}),\"Apply Changes (\",Object.keys(selectedAlternatives).length,\")\"]})]})]})]})});};export default AlternativeIngredientsModal;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AlternativeIngredientsModal","_ref","isOpen","onClose","alternativeSuggestions","originalIngredients","onReplaceIngredients","selectedAlternatives","setSelectedAlternatives","showConfirmation","setShowConfirmation","activeTab","setActiveTab","document","body","style","overflow","console","log","Object","entries","forEach","_ref2","allergen","ingredientAlternatives","_ref3","ingredient","alternatives","handleAlternativeSelect","originalIngredient","alternative","prev","handleApplyChanges","updatedIngredients","map","originalName","replacement","original_ingredient","is_replacement","setTimeout","getIngredientQuantity","find","ing","quantity","unit","trim","getAllergenIcon","icons","dairy","nuts","gluten","eggs","shellfish","soy","fish","wheat","toLowerCase","getAlternativeIcon","includes","className","children","onClick","width","height","viewBox","fill","stroke","strokeWidth","x1","y1","x2","y2","_ref4","charAt","toUpperCase","slice","keys","length","_ref5","index","type","name","value","checked","onChange","_ref6","original","d","disabled"],"sources":["/Users/roshan/Desktop/we_know_sample_2/frontend/src/components/AlternativeIngredientsModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './AlternativeIngredientsModal.css';\n\nconst AlternativeIngredientsModal = ({ \n  isOpen, \n  onClose, \n  alternativeSuggestions, \n  originalIngredients,\n  onReplaceIngredients \n}) => {\n  const [selectedAlternatives, setSelectedAlternatives] = useState({});\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [activeTab, setActiveTab] = useState('allergens');\n\n  // Prevent body scrolling when modal is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n\n    // Cleanup function to restore body scrolling when component unmounts\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  console.log('Modal opened - isOpen:', isOpen);\n  console.log('Modal opened - alternativeSuggestions:', alternativeSuggestions);\n  console.log('Modal opened - originalIngredients:', originalIngredients);\n  \n  // Debug: Log each allergen and its alternatives\n  if (alternativeSuggestions) {\n    Object.entries(alternativeSuggestions).forEach(([allergen, ingredientAlternatives]) => {\n      console.log(`Allergen ${allergen}:`, ingredientAlternatives);\n      Object.entries(ingredientAlternatives).forEach(([ingredient, alternatives]) => {\n        console.log(`  ${ingredient} alternatives:`, alternatives);\n      });\n    });\n  }\n\n  const handleAlternativeSelect = (allergen, originalIngredient, alternative) => {\n    setSelectedAlternatives(prev => ({\n      ...prev,\n      [originalIngredient]: alternative\n    }));\n  };\n\n  const handleApplyChanges = () => {\n    // Create new ingredients list with replacements\n    const updatedIngredients = originalIngredients.map(ingredient => {\n      const originalName = ingredient.ingredient;\n      const replacement = selectedAlternatives[originalName];\n      \n      if (replacement) {\n        return {\n          ...ingredient,\n          ingredient: replacement,\n          original_ingredient: originalName, // Keep track of what was replaced\n          is_replacement: true\n        };\n      }\n      return ingredient;\n    });\n\n    onReplaceIngredients(updatedIngredients);\n    setShowConfirmation(true);\n    \n    // Close modal after 2 seconds\n    setTimeout(() => {\n      setShowConfirmation(false);\n      onClose();\n      setSelectedAlternatives({});\n    }, 2000);\n  };\n\n  const getIngredientQuantity = (originalName) => {\n    const ingredient = originalIngredients.find(ing => ing.ingredient === originalName);\n    return ingredient ? `${ingredient.quantity} ${ingredient.unit || ''}`.trim() : '';\n  };\n\n  const getAllergenIcon = (allergen) => {\n    const icons = {\n      dairy: 'ü•õ',\n      nuts: 'ü•ú',\n      gluten: 'üåæ',\n      eggs: 'ü•ö',\n      shellfish: 'ü¶ê',\n      soy: 'ü´ò',\n      fish: 'üêü',\n      wheat: 'üåæ'\n    };\n    return icons[allergen.toLowerCase()] || '‚ö†Ô∏è';\n  };\n\n  const getAlternativeIcon = (alternative) => {\n    if (alternative.includes('almond')) return 'ü•ú';\n    if (alternative.includes('coconut')) return 'ü••';\n    if (alternative.includes('soy')) return 'ü´ò';\n    if (alternative.includes('oat')) return 'üåæ';\n    if (alternative.includes('rice')) return 'üçö';\n    if (alternative.includes('lemon')) return 'üçã';\n    if (alternative.includes('vinegar')) return 'üç∂';\n    return 'üîÑ';\n  };\n\n  return (\n    <div className=\"alternative-modal-overlay\">\n      <div className=\"alternative-modal\">\n        <div className=\"alternative-modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">üîÑ</div>\n            <div className=\"header-text\">\n              <h2>Ingredient Alternatives</h2>\n              <p>Make your recipe allergy-safe</p>\n            </div>\n          </div>\n          <button className=\"close-btn\" onClick={onClose}>\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n            </svg>\n          </button>\n        </div>\n\n        {showConfirmation ? (\n          <div className=\"confirmation-message\">\n            <div className=\"confirmation-icon\">‚úÖ</div>\n            <h3>Ingredients Updated!</h3>\n            <p>Your recipe has been updated with safe alternatives.</p>\n            <div className=\"confirmation-progress\">\n              <div className=\"progress-bar\"></div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"alternative-modal-content\">\n              <div className=\"modal-tabs\">\n                <button \n                  className={`tab-btn ${activeTab === 'allergens' ? 'active' : ''}`}\n                  onClick={() => setActiveTab('allergens')}\n                >\n                  <span className=\"tab-icon\">‚ö†Ô∏è</span>\n                  Allergens\n                </button>\n                <button \n                  className={`tab-btn ${activeTab === 'summary' ? 'active' : ''}`}\n                  onClick={() => setActiveTab('summary')}\n                >\n                  <span className=\"tab-icon\">üìã</span>\n                  Summary\n                </button>\n              </div>\n\n              {activeTab === 'allergens' && (\n                <div className=\"allergens-content\">\n                  <div className=\"content-header\">\n                    <h3>Select Safe Alternatives</h3>\n                    <p>Choose replacements for ingredients that contain allergens in your profile</p>\n                  </div>\n\n                  {Object.entries(alternativeSuggestions).map(([allergen, ingredientAlternatives]) => (\n                      <div key={allergen} className=\"allergen-card\">\n                        <div className=\"allergen-header\">\n                          <span className=\"allergen-icon\">{getAllergenIcon(allergen)}</span>\n                          <div className=\"allergen-info\">\n                            <h4>{allergen.charAt(0).toUpperCase() + allergen.slice(1)} Allergy</h4>\n                            <span className=\"allergen-count\">\n                              {Object.keys(ingredientAlternatives).length} ingredient{Object.keys(ingredientAlternatives).length !== 1 ? 's' : ''} to replace\n                            </span>\n                          </div>\n                        </div>\n                      \n                      {Object.entries(ingredientAlternatives).map(([originalIngredient, alternatives]) => (\n                        <div key={originalIngredient} className=\"ingredient-card\">\n                          <div className=\"original-ingredient\">\n                            <div className=\"original-info\">\n                              <span className=\"original-name\">{originalIngredient}</span>\n                              <span className=\"original-quantity\">{getIngredientQuantity(originalIngredient)}</span>\n                            </div>\n                            <span className=\"original-badge\">Original</span>\n                          </div>\n                          \n                          <div className=\"alternatives-section\">\n                            <h5>Choose a replacement:</h5>\n                            <div className=\"alternatives-grid\">\n                              {console.log(`Rendering ${alternatives.length} alternatives for ${originalIngredient}:`, alternatives)}\n                              {alternatives.map((alternative, index) => {\n                                console.log(`Rendering alternative ${index}:`, alternative);\n                                return (\n                                  <label key={index} className={`alternative-card ${selectedAlternatives[originalIngredient] === alternative ? 'selected' : ''}`}>\n                                      <input\n                                        type=\"radio\"\n                                        name={originalIngredient}\n                                        value={alternative}\n                                        checked={selectedAlternatives[originalIngredient] === alternative}\n                                        onChange={() => handleAlternativeSelect(allergen, originalIngredient, alternative)}\n                                      />\n                                      <div className=\"alternative-content\">\n                                        <span className=\"alternative-icon\">{getAlternativeIcon(alternative)}</span>\n                                        <span className=\"alternative-text\">{alternative}</span>\n                                      </div>\n                                      <div className=\"selection-indicator\">\n                                        <div className=\"radio-circle\"></div>\n                                      </div>\n                                  </label>\n                                );\n                              })}\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {activeTab === 'summary' && (\n                <div className=\"summary-content\">\n                  <div className=\"content-header\">\n                    <h3>Replacement Summary</h3>\n                    <p>Review your selected alternatives before applying</p>\n                  </div>\n\n                  {Object.keys(selectedAlternatives).length === 0 ? (\n                    <div className=\"empty-summary\">\n                      <div className=\"empty-icon\">üìù</div>\n                      <h4>No replacements selected</h4>\n                      <p>Go back to the Allergens tab to choose alternatives</p>\n                    </div>\n                  ) : (\n                    <div className=\"replacements-list\">\n                      {Object.entries(selectedAlternatives).map(([original, replacement]) => (\n                        <div key={original} className=\"replacement-item\">\n                          <div className=\"replacement-arrow\">\n                            <span className=\"original-text\">{original}</span>\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                              <path d=\"M7 13l5 5 5-5\"></path>\n                              <path d=\"M7 6l5 5 5-5\"></path>\n                            </svg>\n                            <span className=\"replacement-text\">{replacement}</span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n\n            <div className=\"alternative-modal-footer\">\n              <button className=\"cancel-btn\" onClick={onClose}>\n                Cancel\n              </button>\n              <button \n                className={`apply-btn ${Object.keys(selectedAlternatives).length > 0 ? 'active' : 'disabled'}`}\n                onClick={handleApplyChanges}\n                disabled={Object.keys(selectedAlternatives).length === 0}\n              >\n                <span className=\"btn-icon\">‚úÖ</span>\n                Apply Changes ({Object.keys(selectedAlternatives).length})\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AlternativeIngredientsModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}