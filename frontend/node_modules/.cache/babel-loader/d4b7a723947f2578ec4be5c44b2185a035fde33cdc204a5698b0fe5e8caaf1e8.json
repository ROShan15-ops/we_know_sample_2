{"ast":null,"code":"import React,{useCallback,useRef,useState}from'react';import Orders from'../components/Orders.jsx';import VarietySelector from'../components/VarietySelector.jsx';import DeliveryDashboard from'../components/DeliveryDashboard.jsx';import AlternativeIngredientsModal from'../components/AlternativeIngredientsModal.jsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=_ref=>{let{dish,setDish,ingredients,loading,setLoading,error,setError,successMessage,setSuccessMessage,handleSubmit,handleRecentSearchClick,recentSearches,recipeInfo,nutritionInfo,allergyWarning,alternativeSuggestions,servings,setServings,orders,addOrder,deleteIngredient,// Add this new prop\nonReplaceIngredients// Add this new prop\n}=_ref;const inputRef=useRef(null);const[showOrders,setShowOrders]=useState(false);const[showVarietySelector,setShowVarietySelector]=useState(false);const[showDeliveryDashboard,setShowDeliveryDashboard]=useState(false);const[showAlternativeIngredientsModal,setShowAlternativeIngredientsModal]=useState(false);const[currentIngredients,setCurrentIngredients]=useState([]);const[varieties,setVarieties]=useState([]);// Debug logging\nconsole.log('HomePage Debug:',{dish,ingredients:ingredients===null||ingredients===void 0?void 0:ingredients.length,loading,error,recipeInfo:!!recipeInfo,recentSearches:recentSearches===null||recentSearches===void 0?void 0:recentSearches.length});const handleInputChange=useCallback(e=>{setDish(e.target.value);},[setDish]);const handleServingsChange=useCallback(e=>{setServings(parseInt(e.target.value));},[setServings]);const handleVarietySelect=async variety=>{setShowVarietySelector(false);// Update the dish name in the parent component\nsetDish(variety.title);// Call handleSubmit directly with the variety title\nhandleSubmit({preventDefault:()=>{}},variety.title);};const handleSearchVarieties=async()=>{if(!dish.trim())return;try{const response=await fetch('http://localhost:8000/search-varieties',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('weKnowToken')}`},body:JSON.stringify({dish_name:dish})});const data=await response.json();if(data.success&&data.varieties.length>0){setVarieties(data.varieties);setShowVarietySelector(true);}else{// If no varieties found, proceed with normal search\nhandleSubmit({preventDefault:()=>{}});}}catch(error){console.error('Error searching varieties:',error);// Fallback to normal search\nhandleSubmit({preventDefault:()=>{}});}};const handleOpenAlternativeModal=()=>{setCurrentIngredients(ingredients);setShowAlternativeIngredientsModal(true);};const handleReplaceIngredients=updatedIngredients=>{// Update the ingredients in the parent component\n// This will need to be passed down from App.jsx\nif(typeof onReplaceIngredients==='function'){onReplaceIngredients(updatedIngredients);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"home-page\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f0f0f0',padding:'10px',margin:'10px',borderRadius:'5px',fontSize:'12px',fontFamily:'monospace'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Debug Info:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Dish: \\\"\",dish,\"\\\"\",/*#__PURE__*/_jsx(\"br\",{}),\"Ingredients: \",(ingredients===null||ingredients===void 0?void 0:ingredients.length)||0,/*#__PURE__*/_jsx(\"br\",{}),\"Loading: \",loading?'Yes':'No',/*#__PURE__*/_jsx(\"br\",{}),\"Error: \",error||'None',/*#__PURE__*/_jsx(\"br\",{}),\"Recipe Info: \",recipeInfo?'Yes':'No',/*#__PURE__*/_jsx(\"br\",{}),\"Recent Searches: \",(recentSearches===null||recentSearches===void 0?void 0:recentSearches.length)||0]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-section\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"search-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:dish,onChange:handleInputChange,placeholder:\"Enter a dish name (e.g., Chicken Tikka Masala, Spaghetti Carbonara)\",className:\"dish-input\",ref:inputRef,autoFocus:true}),/*#__PURE__*/_jsx(\"select\",{value:servings,onChange:handleServingsChange,className:\"servings-select\",children:[1,2,3,4,5,6,7,8,9,10].map(num=>/*#__PURE__*/_jsxs(\"option\",{value:num,children:[num,\" \",num===1?'serving':'servings']},num))}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"search-button\",disabled:loading,children:loading?'🔍 Searching...':'🔍 Find Ingredients'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"variety-button\",onClick:handleSearchVarieties,disabled:loading,children:\"\\uD83D\\uDCF7 Show Varieties\"})]})}),recentSearches.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"recent-searches\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Searches:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"recent-tags\",children:recentSearches.map((search,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"recent-tag\",onClick:()=>handleRecentSearchClick(typeof search==='string'?search:search.dish),children:typeof search==='string'?search:search.dish})},index))})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Searching for ingredients...\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u274C No Ingredients Found\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"error-suggestions\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCA1 Try these alternatives:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"suggestion-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setDish('Chicken Tikka Masala');setError('');},className:\"suggestion-btn\",children:\"Chicken Tikka Masala\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setDish('Spaghetti Carbonara');setError('');},className:\"suggestion-btn\",children:\"Spaghetti Carbonara\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setDish('Margherita Pizza');setError('');},className:\"suggestion-btn\",children:\"Margherita Pizza\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setDish('Butter Chicken');setError('');},className:\"suggestion-btn\",children:\"Butter Chicken\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setDish('Pasta Bolognese');setError('');},className:\"suggestion-btn\",children:\"Pasta Bolognese\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"error-tip\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tip:\"}),\" Try using more common dish names or English translations. Regional dishes might not be available in our database.\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setError('');setDish('');},className:\"clear-error-btn\",children:\"Clear & Try Again\"})]}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83C\\uDF89 \",successMessage]})}),ingredients&&ingredients.length>0&&recipeInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[console.log('DEBUG - Ingredients received:',ingredients),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uD83D\\uDCCB \",recipeInfo.title]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Original recipe serves \",recipeInfo.original_servings,\" people. Scaled for \",servings,\" \",servings===1?'person':'people',\".\"]})]}),allergyWarning&&/*#__PURE__*/_jsxs(\"div\",{className:\"allergy-warning\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F Allergy Alert\"}),/*#__PURE__*/_jsx(\"p\",{children:allergyWarning}),alternativeSuggestions&&Object.keys(alternativeSuggestions).length>0&&/*#__PURE__*/_jsx(\"button\",{className:\"view-alternatives-btn\",onClick:handleOpenAlternativeModal,children:\"\\uD83D\\uDD04 View Alternative Ingredients\"})]}),nutritionInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDF4E Nutrition Facts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-value\",children:nutritionInfo.calories!==\"unknown\"?`${nutritionInfo.calories} kcal`:\"Unknown\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Protein\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-value\",children:nutritionInfo.protein!==\"unknown\"?`${nutritionInfo.protein}g`:\"Unknown\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Carbs\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-value\",children:nutritionInfo.carbs!==\"unknown\"?`${nutritionInfo.carbs}g`:\"Unknown\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Fat\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-value\",children:nutritionInfo.fat!==\"unknown\"?`${nutritionInfo.fat}g`:\"Unknown\"})]}),nutritionInfo.fiber!==\"unknown\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Fiber\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"nutrition-value\",children:[nutritionInfo.fiber,\"g\"]})]}),nutritionInfo.sugar!==\"unknown\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Sugar\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"nutrition-value\",children:[nutritionInfo.sugar,\"g\"]})]})]}),nutritionInfo.dietary_tags&&nutritionInfo.dietary_tags.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"dietary-tags\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Dietary Information:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tags-container\",children:nutritionInfo.dietary_tags.map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"dietary-tag\",children:tag},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ingredients-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDED2 Grocery List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ingredients-grid\",children:ingredients.map((ingredient,index)=>{const quantity=ingredient.quantity;const unit=ingredient.unit||'';let name=ingredient.ingredient||ingredient.name||ingredient.original||'Unknown ingredient';// Debug: Log each ingredient name\n{console.log(`DEBUG - Ingredient ${index}:`,name);}// Additional frontend filtering for instruction text\nconst instructionWords=['pour','into','and','bake','in','preheated','oven','mix','combine','stir','add','place','set','aside','until','smooth','well','blended','creamy','fluffy','golden','brown','tender','crisp','soft','firm','room','temperature','cold','warm','hot','boiling','simmering','frying','pan','pot','bowl','dish','serving','plate','garnish','sprinkle','drizzle','coat','dust','brush','spread','layer','arrange'];// Skip ingredients that contain instruction words\nif(instructionWords.some(word=>name.toLowerCase().includes(word))){return null;// Skip this ingredient\n}// Skip ingredients that are too long (likely instructions)\nif(name.length>50){return null;// Skip this ingredient\n}// Skip ingredients that contain common instruction patterns\nif(name.toLowerCase().includes('until')||name.toLowerCase().includes('then')||name.toLowerCase().includes('next')||name.toLowerCase().includes('after')||name.toLowerCase().includes('before')||name.toLowerCase().includes('minutes')||name.toLowerCase().includes('hours')||name.toLowerCase().includes('degrees')){return null;// Skip this ingredient\n}// Clean up the name\nname=name.replace(/\\s+/g,' ').trim();// Generate ingredient image URL using Unsplash API\nconst imageUrl=`https://source.unsplash.com/300x200/?${encodeURIComponent(name)}`;return/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-card\",style:{animationDelay:`${index*0.1}s`},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:name,loading:\"lazy\",onLoad:e=>{e.target.style.opacity='1';e.target.parentElement.querySelector('.image-loading').style.display='none';},onError:e=>{e.target.src=`https://source.unsplash.com/300x200/?food,${encodeURIComponent(name.split(' ')[0])}`;// If the fallback also fails, show a placeholder\ne.target.onerror=()=>{e.target.style.display='none';e.target.parentElement.querySelector('.image-loading').innerHTML=`<div style=\"display: flex; align-items: center; justify-content: center; height: 100%; color: #999; font-size: 14px;\">\n                                  🥘 ${name}\n                                </div>`;};},style:{opacity:0,transition:'opacity 0.3s ease'}}),/*#__PURE__*/_jsx(\"div\",{className:\"image-loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-details\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"ingredient-name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"ingredient-amount\",children:quantity!==null&&quantity!==undefined?`${quantity} ${unit}`:'As needed'}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-ingredient-btn\",onClick:()=>deleteIngredient(index),title:\"Remove ingredient\",children:\"\\u2715\"})]})]},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"action-button delivery-button\",onClick:()=>setShowDeliveryDashboard(true),style:{background:'linear-gradient(135deg, #27ae60, #229954)',color:'white',border:'none',padding:'12px 24px',borderRadius:'8px',cursor:'pointer',fontSize:'14px',fontWeight:'600',transition:'all 0.3s ease'},children:\"\\uD83D\\uDE9A Get Ingredients Delivered\"})})]})]}),showOrders&&/*#__PURE__*/_jsx(Orders,{orders:orders,onClose:()=>setShowOrders(false)}),showVarietySelector&&/*#__PURE__*/_jsx(VarietySelector,{varieties:varieties,onSelectVariety:handleVarietySelect,onClose:()=>setShowVarietySelector(false)}),showDeliveryDashboard&&/*#__PURE__*/_jsx(DeliveryDashboard,{onClose:()=>setShowDeliveryDashboard(false),selectedDish:dish,selectedServings:servings,addOrder:addOrder}),showAlternativeIngredientsModal&&/*#__PURE__*/_jsx(AlternativeIngredientsModal,{isOpen:showAlternativeIngredientsModal,onClose:()=>setShowAlternativeIngredientsModal(false),alternativeSuggestions:alternativeSuggestions,originalIngredients:currentIngredients,onReplaceIngredients:handleReplaceIngredients})]});};export default HomePage;","map":{"version":3,"names":["React","useCallback","useRef","useState","Orders","VarietySelector","DeliveryDashboard","AlternativeIngredientsModal","jsx","_jsx","jsxs","_jsxs","HomePage","_ref","dish","setDish","ingredients","loading","setLoading","error","setError","successMessage","setSuccessMessage","handleSubmit","handleRecentSearchClick","recentSearches","recipeInfo","nutritionInfo","allergyWarning","alternativeSuggestions","servings","setServings","orders","addOrder","deleteIngredient","onReplaceIngredients","inputRef","showOrders","setShowOrders","showVarietySelector","setShowVarietySelector","showDeliveryDashboard","setShowDeliveryDashboard","showAlternativeIngredientsModal","setShowAlternativeIngredientsModal","currentIngredients","setCurrentIngredients","varieties","setVarieties","console","log","length","handleInputChange","e","target","value","handleServingsChange","parseInt","handleVarietySelect","variety","title","preventDefault","handleSearchVarieties","trim","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","dish_name","data","json","success","handleOpenAlternativeModal","handleReplaceIngredients","updatedIngredients","className","children","style","background","padding","margin","borderRadius","fontSize","fontFamily","onSubmit","type","onChange","placeholder","ref","autoFocus","map","num","disabled","onClick","search","index","original_servings","Object","keys","calories","protein","carbs","fat","fiber","sugar","dietary_tags","tag","ingredient","quantity","unit","name","original","instructionWords","some","word","toLowerCase","includes","replace","imageUrl","encodeURIComponent","animationDelay","src","alt","onLoad","opacity","parentElement","querySelector","display","onError","split","onerror","innerHTML","transition","undefined","color","border","cursor","fontWeight","onClose","onSelectVariety","selectedDish","selectedServings","isOpen","originalIngredients"],"sources":["/Users/roshan/Desktop/we_know_sample_2/frontend/src/pages/HomePage.jsx"],"sourcesContent":["import React, { useCallback, useRef, useState } from 'react';\n\nimport Orders from '../components/Orders.jsx';\nimport VarietySelector from '../components/VarietySelector.jsx';\nimport DeliveryDashboard from '../components/DeliveryDashboard.jsx';\nimport AlternativeIngredientsModal from '../components/AlternativeIngredientsModal.jsx';\n\nconst HomePage = ({ \n  dish, \n  setDish, \n  ingredients, \n  loading, \n  setLoading,\n  error, \n  setError,\n  successMessage,\n  setSuccessMessage,\n  handleSubmit, \n \n  handleRecentSearchClick, \n  recentSearches, \n  recipeInfo,\n  nutritionInfo,\n  allergyWarning,\n  alternativeSuggestions,\n  servings,\n  setServings,\n  orders,\n  addOrder,\n  deleteIngredient, // Add this new prop\n  onReplaceIngredients // Add this new prop\n}) => {\n  const inputRef = useRef(null);\n  const [showOrders, setShowOrders] = useState(false);\n  const [showVarietySelector, setShowVarietySelector] = useState(false);\n  const [showDeliveryDashboard, setShowDeliveryDashboard] = useState(false);\n  const [showAlternativeIngredientsModal, setShowAlternativeIngredientsModal] = useState(false);\n  const [currentIngredients, setCurrentIngredients] = useState([]);\n\n  const [varieties, setVarieties] = useState([]);\n\n  // Debug logging\n  console.log('HomePage Debug:', {\n    dish,\n    ingredients: ingredients?.length,\n    loading,\n    error,\n    recipeInfo: !!recipeInfo,\n    recentSearches: recentSearches?.length\n  });\n\n  const handleInputChange = useCallback((e) => {\n    setDish(e.target.value);\n  }, [setDish]);\n\n  const handleServingsChange = useCallback((e) => {\n    setServings(parseInt(e.target.value));\n  }, [setServings]);\n\n  const handleVarietySelect = async (variety) => {\n    setShowVarietySelector(false);\n    \n    // Update the dish name in the parent component\n    setDish(variety.title);\n    \n    // Call handleSubmit directly with the variety title\n    handleSubmit({ preventDefault: () => {} }, variety.title);\n  };\n\n  const handleSearchVarieties = async () => {\n    if (!dish.trim()) return;\n    \n    try {\n      const response = await fetch('http://localhost:8000/search-varieties', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('weKnowToken')}`\n        },\n        body: JSON.stringify({ dish_name: dish })\n      });\n      \n      const data = await response.json();\n      \n      if (data.success && data.varieties.length > 0) {\n        setVarieties(data.varieties);\n        setShowVarietySelector(true);\n      } else {\n        // If no varieties found, proceed with normal search\n        handleSubmit({ preventDefault: () => {} });\n      }\n    } catch (error) {\n      console.error('Error searching varieties:', error);\n      // Fallback to normal search\n      handleSubmit({ preventDefault: () => {} });\n    }\n  };\n\n  const handleOpenAlternativeModal = () => {\n    setCurrentIngredients(ingredients);\n    setShowAlternativeIngredientsModal(true);\n  };\n\n  const handleReplaceIngredients = (updatedIngredients) => {\n    // Update the ingredients in the parent component\n    // This will need to be passed down from App.jsx\n    if (typeof onReplaceIngredients === 'function') {\n      onReplaceIngredients(updatedIngredients);\n    }\n  };\n\n  return (\n    <div className=\"home-page\">\n      {/* Debug Info */}\n      <div style={{ \n        background: '#f0f0f0', \n        padding: '10px', \n        margin: '10px', \n        borderRadius: '5px',\n        fontSize: '12px',\n        fontFamily: 'monospace'\n      }}>\n        <strong>Debug Info:</strong><br/>\n        Dish: \"{dish}\"<br/>\n        Ingredients: {ingredients?.length || 0}<br/>\n        Loading: {loading ? 'Yes' : 'No'}<br/>\n        Error: {error || 'None'}<br/>\n        Recipe Info: {recipeInfo ? 'Yes' : 'No'}<br/>\n        Recent Searches: {recentSearches?.length || 0}\n      </div>\n\n      <div className=\"search-section\">\n        <form onSubmit={handleSubmit} className=\"search-form\">\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              value={dish}\n              onChange={handleInputChange}\n              placeholder=\"Enter a dish name (e.g., Chicken Tikka Masala, Spaghetti Carbonara)\"\n              className=\"dish-input\"\n              ref={inputRef}\n              autoFocus\n            />\n            <select\n              value={servings}\n              onChange={handleServingsChange}\n              className=\"servings-select\"\n            >\n              {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(num => (\n                <option key={num} value={num}>\n                  {num} {num === 1 ? 'serving' : 'servings'}\n                </option>\n              ))}\n            </select>\n            <button type=\"submit\" className=\"search-button\" disabled={loading}>\n              {loading ? '🔍 Searching...' : '🔍 Find Ingredients'}\n            </button>\n            <button \n              type=\"button\" \n              className=\"variety-button\"\n              onClick={handleSearchVarieties}\n              disabled={loading}\n            >\n              📷 Show Varieties\n            </button>\n          </div>\n        </form>\n\n        {/* Recent Searches */}\n        {recentSearches.length > 0 && (\n          <div className=\"recent-searches\">\n            <h3>Recent Searches:</h3>\n            <ul className=\"recent-tags\">\n              {recentSearches.map((search, index) => (\n                <li key={index}>\n                  <button\n                    className=\"recent-tag\"\n                    onClick={() => handleRecentSearchClick(typeof search === 'string' ? search : search.dish)}\n                  >\n                    {typeof search === 'string' ? search : search.dish}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Loading State */}\n        {loading && (\n          <div className=\"loading\">\n            <div className=\"spinner\"></div>\n            <p>Searching for ingredients...</p>\n          </div>\n        )}\n\n        {/* Error State */}\n        {error && (\n          <div className=\"error-message\">\n            <h3>❌ No Ingredients Found</h3>\n            <p>{error}</p>\n            <div className=\"error-suggestions\">\n              <h4>💡 Try these alternatives:</h4>\n              <div className=\"suggestion-buttons\">\n                <button \n                  onClick={() => {\n                    setDish('Chicken Tikka Masala');\n                    setError('');\n                  }}\n                  className=\"suggestion-btn\"\n                >\n                  Chicken Tikka Masala\n                </button>\n                <button \n                  onClick={() => {\n                    setDish('Spaghetti Carbonara');\n                    setError('');\n                  }}\n                  className=\"suggestion-btn\"\n                >\n                  Spaghetti Carbonara\n                </button>\n                <button \n                  onClick={() => {\n                    setDish('Margherita Pizza');\n                    setError('');\n                  }}\n                  className=\"suggestion-btn\"\n                >\n                  Margherita Pizza\n                </button>\n                <button \n                  onClick={() => {\n                    setDish('Butter Chicken');\n                    setError('');\n                  }}\n                  className=\"suggestion-btn\"\n                >\n                  Butter Chicken\n                </button>\n                <button \n                  onClick={() => {\n                    setDish('Pasta Bolognese');\n                    setError('');\n                  }}\n                  className=\"suggestion-btn\"\n                >\n                  Pasta Bolognese\n                </button>\n              </div>\n              <p className=\"error-tip\">\n                <strong>Tip:</strong> Try using more common dish names or English translations. \n                Regional dishes might not be available in our database.\n              </p>\n            </div>\n            <button \n              onClick={() => {\n                setError('');\n                setDish('');\n              }} \n              className=\"clear-error-btn\"\n            >\n              Clear & Try Again\n            </button>\n          </div>\n        )}\n\n        {/* Success Message */}\n        {successMessage && (\n          <div className=\"success-message\">\n            <h3>🎉 {successMessage}</h3>\n          </div>\n        )}\n\n        {/* Results */}\n        {ingredients && ingredients.length > 0 && recipeInfo && (\n          <div className=\"results\">\n            {/* Debug: Log ingredients to console */}\n            {console.log('DEBUG - Ingredients received:', ingredients)}\n            \n            <div className=\"recipe-info\">\n              <h2>📋 {recipeInfo.title}</h2>\n              <p>\n                Original recipe serves {recipeInfo.original_servings} people. \n                Scaled for {servings} {servings === 1 ? 'person' : 'people'}.\n              </p>\n            </div>\n\n            {/* Allergy Warning */}\n            {allergyWarning && (\n              <div className=\"allergy-warning\">\n                <h3>⚠️ Allergy Alert</h3>\n                <p>{allergyWarning}</p>\n                {alternativeSuggestions && Object.keys(alternativeSuggestions).length > 0 && (\n                  <button \n                    className=\"view-alternatives-btn\"\n                    onClick={handleOpenAlternativeModal}\n                  >\n                    🔄 View Alternative Ingredients\n                  </button>\n                )}\n              </div>\n            )}\n\n\n\n            {/* Nutrition Information */}\n            {nutritionInfo && (\n              <div className=\"nutrition-info\">\n                <h3>🍎 Nutrition Facts</h3>\n                <div className=\"nutrition-grid\">\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-label\">Calories</span>\n                    <span className=\"nutrition-value\">\n                      {nutritionInfo.calories !== \"unknown\" ? `${nutritionInfo.calories} kcal` : \"Unknown\"}\n                    </span>\n                  </div>\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-label\">Protein</span>\n                    <span className=\"nutrition-value\">\n                      {nutritionInfo.protein !== \"unknown\" ? `${nutritionInfo.protein}g` : \"Unknown\"}\n                    </span>\n                  </div>\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-label\">Carbs</span>\n                    <span className=\"nutrition-value\">\n                      {nutritionInfo.carbs !== \"unknown\" ? `${nutritionInfo.carbs}g` : \"Unknown\"}\n                    </span>\n                  </div>\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-label\">Fat</span>\n                    <span className=\"nutrition-value\">\n                      {nutritionInfo.fat !== \"unknown\" ? `${nutritionInfo.fat}g` : \"Unknown\"}\n                    </span>\n                  </div>\n                  {nutritionInfo.fiber !== \"unknown\" && (\n                    <div className=\"nutrition-item\">\n                      <span className=\"nutrition-label\">Fiber</span>\n                      <span className=\"nutrition-value\">{nutritionInfo.fiber}g</span>\n                    </div>\n                  )}\n                  {nutritionInfo.sugar !== \"unknown\" && (\n                    <div className=\"nutrition-item\">\n                      <span className=\"nutrition-label\">Sugar</span>\n                      <span className=\"nutrition-value\">{nutritionInfo.sugar}g</span>\n                    </div>\n                  )}\n                </div>\n                \n                {/* Dietary Tags */}\n                {nutritionInfo.dietary_tags && nutritionInfo.dietary_tags.length > 0 && (\n                  <div className=\"dietary-tags\">\n                    <h4>Dietary Information:</h4>\n                    <div className=\"tags-container\">\n                      {nutritionInfo.dietary_tags.map((tag, index) => (\n                        <span key={index} className=\"dietary-tag\">\n                          {tag}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n\n            <div className=\"ingredients-list\">\n              <h3>🛒 Grocery List</h3>\n              <div className=\"ingredients-grid\">\n                {ingredients.map((ingredient, index) => {\n                  const quantity = ingredient.quantity;\n                  const unit = ingredient.unit || '';\n                  let name = ingredient.ingredient || ingredient.name || ingredient.original || 'Unknown ingredient';\n                  \n                  // Debug: Log each ingredient name\n                  {console.log(`DEBUG - Ingredient ${index}:`, name)}\n                  \n                  // Additional frontend filtering for instruction text\n                  const instructionWords = [\n                    'pour', 'into', 'and', 'bake', 'in', 'preheated', 'oven', 'mix', 'combine', 'stir', 'add', 'place', 'set', 'aside',\n                    'until', 'smooth', 'well', 'blended', 'creamy', 'fluffy', 'golden', 'brown', 'tender', 'crisp', 'soft', 'firm',\n                    'room', 'temperature', 'cold', 'warm', 'hot', 'boiling', 'simmering', 'frying', 'pan', 'pot', 'bowl', 'dish',\n                    'serving', 'plate', 'garnish', 'sprinkle', 'drizzle', 'coat', 'dust', 'brush', 'spread', 'layer', 'arrange'\n                  ];\n                  \n                  // Skip ingredients that contain instruction words\n                  if (instructionWords.some(word => name.toLowerCase().includes(word))) {\n                    return null; // Skip this ingredient\n                  }\n                  \n                  // Skip ingredients that are too long (likely instructions)\n                  if (name.length > 50) {\n                    return null; // Skip this ingredient\n                  }\n                  \n                  // Skip ingredients that contain common instruction patterns\n                  if (name.toLowerCase().includes('until') || \n                      name.toLowerCase().includes('then') ||\n                      name.toLowerCase().includes('next') ||\n                      name.toLowerCase().includes('after') ||\n                      name.toLowerCase().includes('before') ||\n                      name.toLowerCase().includes('minutes') ||\n                      name.toLowerCase().includes('hours') ||\n                      name.toLowerCase().includes('degrees')) {\n                    return null; // Skip this ingredient\n                  }\n                  \n                  // Clean up the name\n                  name = name.replace(/\\s+/g, ' ').trim();\n                  \n                  // Generate ingredient image URL using Unsplash API\n                  const imageUrl = `https://source.unsplash.com/300x200/?${encodeURIComponent(name)}`;\n                  \n                  return (\n                    <div \n                      key={index} \n                      className=\"ingredient-card\"\n                      style={{ animationDelay: `${index * 0.1}s` }}\n                    >\n                      <div className=\"ingredient-image\">\n                        <img \n                          src={imageUrl} \n                          alt={name}\n                          loading=\"lazy\"\n                          onLoad={(e) => {\n                            e.target.style.opacity = '1';\n                            e.target.parentElement.querySelector('.image-loading').style.display = 'none';\n                          }}\n                          onError={(e) => {\n                            e.target.src = `https://source.unsplash.com/300x200/?food,${encodeURIComponent(name.split(' ')[0])}`;\n                            // If the fallback also fails, show a placeholder\n                            e.target.onerror = () => {\n                              e.target.style.display = 'none';\n                              e.target.parentElement.querySelector('.image-loading').innerHTML = \n                                `<div style=\"display: flex; align-items: center; justify-content: center; height: 100%; color: #999; font-size: 14px;\">\n                                  🥘 ${name}\n                                </div>`;\n                            };\n                          }}\n                          style={{ opacity: 0, transition: 'opacity 0.3s ease' }}\n                        />\n                        <div className=\"image-loading\">\n                          <div className=\"loading-spinner\"></div>\n                        </div>\n                      </div>\n                      <div className=\"ingredient-details\">\n                        <h4 className=\"ingredient-name\">{name}</h4>\n                        <p className=\"ingredient-amount\">\n                          {quantity !== null && quantity !== undefined ? `${quantity} ${unit}` : 'As needed'}\n                        </p>\n                        <button \n                          className=\"delete-ingredient-btn\" \n                          onClick={() => deleteIngredient(index)}\n                          title=\"Remove ingredient\"\n                        >\n                          ✕\n                        </button>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            <div className=\"action-buttons\">\n              <button \n                className=\"action-button delivery-button\" \n                onClick={() => setShowDeliveryDashboard(true)}\n                style={{\n                  background: 'linear-gradient(135deg, #27ae60, #229954)',\n                  color: 'white',\n                  border: 'none',\n                  padding: '12px 24px',\n                  borderRadius: '8px',\n                  cursor: 'pointer',\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  transition: 'all 0.3s ease'\n                }}\n              >\n                🚚 Get Ingredients Delivered\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Orders Modal */}\n      {showOrders && (\n        <Orders\n          orders={orders}\n          onClose={() => setShowOrders(false)}\n        />\n      )}\n\n      {/* Variety Selector Modal */}\n      {showVarietySelector && (\n        <VarietySelector\n          varieties={varieties}\n          onSelectVariety={handleVarietySelect}\n          onClose={() => setShowVarietySelector(false)}\n        />\n      )}\n\n      {/* Delivery Dashboard Modal */}\n      {showDeliveryDashboard && (\n        <DeliveryDashboard\n          onClose={() => setShowDeliveryDashboard(false)}\n          selectedDish={dish}\n          selectedServings={servings}\n          addOrder={addOrder}\n        />\n      )}\n\n      {/* Alternative Ingredients Modal */}\n      {showAlternativeIngredientsModal && (\n        <AlternativeIngredientsModal\n          isOpen={showAlternativeIngredientsModal}\n          onClose={() => setShowAlternativeIngredientsModal(false)}\n          alternativeSuggestions={alternativeSuggestions}\n          originalIngredients={currentIngredients}\n          onReplaceIngredients={handleReplaceIngredients}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default HomePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}