{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./SignupScreen.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignupScreen=_ref=>{let{onSwitchToLogin,onSignupSuccess}=_ref;const[formData,setFormData]=useState({email:'',password:'',confirmPassword:''});const[errors,setErrors]=useState({});const[isLoading,setIsLoading]=useState(false);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>({...prev,[name]:''}));}};const validateForm=()=>{const newErrors={};if(!formData.email){newErrors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){newErrors.email='Please enter a valid email';}if(!formData.password){newErrors.password='Password is required';}else if(formData.password.length<6){newErrors.password='Password must be at least 6 characters';}if(formData.password!==formData.confirmPassword){newErrors.confirmPassword='Passwords do not match';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsLoading(true);try{// Simulate API call\nawait new Promise(resolve=>setTimeout(resolve,1000));// Call the backend registration API\nconst response=await axios.post('http://localhost:8000/auth/register',{name:formData.email.split('@')[0],email:formData.email,password:formData.password});if(response.data.success){// Store the real token and user data\nlocalStorage.setItem('weKnowToken',response.data.access_token);localStorage.setItem('weKnowUser',JSON.stringify(response.data.user));onSignupSuccess(response.data.user);}else{throw new Error(response.data.error||'Registration failed');}}catch(error){setErrors({general:'Signup failed. Please try again.'});}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"signup-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Join us to discover amazing recipes and ingredients\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"signup-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,placeholder:\"Enter your email\",className:errors.email?'error':''}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,placeholder:\"Create a password\",className:errors.password?'error':''}),errors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleInputChange,placeholder:\"Confirm your password\",className:errors.confirmPassword?'error':''}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.confirmPassword})]}),errors.general&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message general-error\",children:errors.general}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"signup-btn\",disabled:isLoading,children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),\"Creating Account...\"]}):'Sign Up'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"link-btn\",onClick:onSwitchToLogin,children:\"Log in\"})]})})]})});};export default SignupScreen;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","SignupScreen","_ref","onSwitchToLogin","onSignupSuccess","formData","setFormData","email","password","confirmPassword","errors","setErrors","isLoading","setIsLoading","handleInputChange","e","name","value","target","prev","validateForm","newErrors","test","length","Object","keys","handleSubmit","preventDefault","Promise","resolve","setTimeout","response","post","split","data","success","localStorage","setItem","access_token","JSON","stringify","user","Error","error","general","className","children","onSubmit","htmlFor","type","id","onChange","placeholder","disabled","onClick"],"sources":["/Users/roshan/Desktop/we_know_sample_2/frontend/src/components/SignupScreen.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './SignupScreen.css';\n\nconst SignupScreen = ({ onSwitchToLogin, onSignupSuccess }) => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.email) {\n      newErrors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'Please enter a valid email';\n    }\n    \n    if (!formData.password) {\n      newErrors.password = 'Password is required';\n    } else if (formData.password.length < 6) {\n      newErrors.password = 'Password must be at least 6 characters';\n    }\n    \n    if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = 'Passwords do not match';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n    \n    setIsLoading(true);\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Call the backend registration API\n      const response = await axios.post('http://localhost:8000/auth/register', {\n        name: formData.email.split('@')[0],\n        email: formData.email,\n        password: formData.password\n      });\n      \n      if (response.data.success) {\n        // Store the real token and user data\n        localStorage.setItem('weKnowToken', response.data.access_token);\n        localStorage.setItem('weKnowUser', JSON.stringify(response.data.user));\n        \n        onSignupSuccess(response.data.user);\n      } else {\n        throw new Error(response.data.error || 'Registration failed');\n      }\n    } catch (error) {\n      setErrors({ general: 'Signup failed. Please try again.' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n\n\n  return (\n    <div className=\"signup-screen\">\n      <div className=\"signup-container\">\n        {/* Header */}\n        <div className=\"signup-header\">\n          <h1>Create Account</h1>\n          <p>Join us to discover amazing recipes and ingredients</p>\n        </div>\n\n\n\n        {/* Email/Password Form */}\n        <form className=\"signup-form\" onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleInputChange}\n              placeholder=\"Enter your email\"\n              className={errors.email ? 'error' : ''}\n            />\n            {errors.email && <span className=\"error-message\">{errors.email}</span>}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleInputChange}\n              placeholder=\"Create a password\"\n              className={errors.password ? 'error' : ''}\n            />\n            {errors.password && <span className=\"error-message\">{errors.password}</span>}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\n            <input\n              type=\"password\"\n              id=\"confirmPassword\"\n              name=\"confirmPassword\"\n              value={formData.confirmPassword}\n              onChange={handleInputChange}\n              placeholder=\"Confirm your password\"\n              className={errors.confirmPassword ? 'error' : ''}\n            />\n            {errors.confirmPassword && <span className=\"error-message\">{errors.confirmPassword}</span>}\n          </div>\n\n          {errors.general && (\n            <div className=\"error-message general-error\">{errors.general}</div>\n          )}\n\n          <button \n            type=\"submit\" \n            className=\"signup-btn\"\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <div className=\"loading-spinner\">\n                <div className=\"spinner\"></div>\n                Creating Account...\n              </div>\n            ) : (\n              'Sign Up'\n            )}\n          </button>\n        </form>\n\n        {/* Login Link */}\n        <div className=\"login-link\">\n          <p>\n            Already have an account?{' '}\n            <button \n              type=\"button\" \n              className=\"link-btn\"\n              onClick={onSwitchToLogin}\n            >\n              Log in\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignupScreen; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}