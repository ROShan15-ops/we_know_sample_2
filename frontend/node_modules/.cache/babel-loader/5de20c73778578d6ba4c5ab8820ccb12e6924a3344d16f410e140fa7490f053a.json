{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DeliveryDashboard=_ref=>{let{onClose,selectedDish,selectedServings,addOrder}=_ref;const[shops,setShops]=useState([]);const[agents,setAgents]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedShop,setSelectedShop]=useState(null);const[deliveryOrder,setDeliveryOrder]=useState(null);const[creatingOrder,setCreatingOrder]=useState(false);const[showCheckout,setShowCheckout]=useState(false);const[orderAdded,setOrderAdded]=useState(false);const[checkoutData,setCheckoutData]=useState({fullName:'',phone:'',address:'',city:'',zipCode:'',paymentMethod:'credit_card',cardNumber:'',expiryDate:'',cvv:''});// Fetch shops and agents on component mount\nuseEffect(()=>{fetchShopsAndAgents();},[]);// Add order to the orders list when successfully created\nuseEffect(()=>{if(deliveryOrder&&deliveryOrder.success&&addOrder&&!orderAdded){const orderToAdd={dish_name:selectedDish,servings:selectedServings||2,ingredients:deliveryOrder.ingredients||[]};addOrder(orderToAdd);setOrderAdded(true);// Close the delivery dashboard after successful order placement\nsetTimeout(()=>{onClose();},1500);// Give user time to see the success message\n}},[deliveryOrder,addOrder,selectedDish,selectedServings,orderAdded,onClose]);const fetchShopsAndAgents=async()=>{try{setLoading(true);// Fetch shops\nconst shopsResponse=await axios.get('http://localhost:8000/delivery/shops');setShops(shopsResponse.data.shops);// Fetch agents\nconst agentsResponse=await axios.get('http://localhost:8000/delivery/agents');setAgents(agentsResponse.data.agents);setLoading(false);}catch(err){setError('Failed to fetch delivery data');setLoading(false);console.error('Error fetching delivery data:',err);}};const createDeliveryOrder=async()=>{if(!selectedShop||!selectedDish)return;// Validate checkout form if showing checkout\nif(showCheckout){const validationError=validateCheckoutForm();if(validationError){setError(validationError);return;}}try{setCreatingOrder(true);setOrderAdded(false);// Reset the flag when creating a new order\nconst orderData={dish_name:selectedDish,servings:selectedServings||2,user_location:{lat:37.7749,// Default San Francisco location\nlng:-122.4194},checkout_data:showCheckout?checkoutData:null};// Use the test endpoint that doesn't require authentication\nconst response=await axios.post('http://localhost:8000/delivery/test',orderData,{headers:{'Content-Type':'application/json'}});console.log('Delivery order response:',response.data);setDeliveryOrder(response.data);setCreatingOrder(false);}catch(err){var _err$response,_err$response2,_err$response3,_err$response4,_err$response4$data;console.error('Error creating delivery order:',err);console.error('Error response:',(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data);// Handle different error types\nif(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===404){setError('No ingredients found for this dish. Please try a different dish.');}else if(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===500){setError('Server error. Please try again later.');}else if((_err$response4=err.response)!==null&&_err$response4!==void 0&&(_err$response4$data=_err$response4.data)!==null&&_err$response4$data!==void 0&&_err$response4$data.error){setError(err.response.data.error);}else{setError('Failed to create delivery order. Please try again.');}setCreatingOrder(false);}};const getShopCoverageColor=coverage=>{if(coverage>=80)return'#28a745';// Green\nif(coverage>=60)return'#ffc107';// Yellow\nreturn'#dc3545';// Red\n};const handleCheckoutChange=(field,value)=>{setCheckoutData(prev=>({...prev,[field]:value}));};const validateCheckoutForm=()=>{const required=['fullName','phone','address','city','zipCode'];for(const field of required){if(!checkoutData[field].trim()){return`Please fill in ${field.replace(/([A-Z])/g,' $1').toLowerCase()}`;}}if(checkoutData.paymentMethod==='credit_card'){if(!checkoutData.cardNumber||!checkoutData.expiryDate||!checkoutData.cvv){return'Please fill in all credit card details';}}return null;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"delivery-dashboard-modal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"delivery-dashboard-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading delivery options...\"})]})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"delivery-dashboard-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-dashboard-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F Error\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchShopsAndAgents,children:\"Retry\"})]})]})});}if(deliveryOrder&&deliveryOrder.success){var _deliveryOrder$top_sh,_deliveryOrder$top_sh2,_deliveryOrder$top_sh3,_deliveryOrder$delive,_deliveryOrder$top_sh4,_deliveryOrder$top_sh5,_deliveryOrder$top_sh6;return/*#__PURE__*/_jsx(\"div\",{className:\"delivery-dashboard-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-dashboard-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-success\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:\"\\uD83C\\uDF89\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Delivery Order Created!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your ingredients are on the way!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Order ID:\"}),\" \",deliveryOrder.order_id||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dish:\"}),\" \",deliveryOrder.dish||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Shop:\"}),\" \",((_deliveryOrder$top_sh=deliveryOrder.top_shop)===null||_deliveryOrder$top_sh===void 0?void 0:_deliveryOrder$top_sh.name)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Distance:\"}),\" \",((_deliveryOrder$top_sh2=deliveryOrder.top_shop)===null||_deliveryOrder$top_sh2===void 0?void 0:_deliveryOrder$top_sh2.distance_km)||'N/A',\" km\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Match Percentage:\"}),\" \",((_deliveryOrder$top_sh3=deliveryOrder.top_shop)===null||_deliveryOrder$top_sh3===void 0?void 0:_deliveryOrder$top_sh3.match_percent)||'N/A',\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Delivery Agent:\"}),\" \",((_deliveryOrder$delive=deliveryOrder.delivery_agent)===null||_deliveryOrder$delive===void 0?void 0:_deliveryOrder$delive.name)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Estimated Time:\"}),\" \",deliveryOrder.estimated_delivery_time_minutes||'N/A',\" minutes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-coverage\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Ingredient Coverage\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"coverage-text\",children:[((_deliveryOrder$top_sh4=deliveryOrder.top_shop)===null||_deliveryOrder$top_sh4===void 0?void 0:_deliveryOrder$top_sh4.match_percent)||0,\"% coverage\"]}),((_deliveryOrder$top_sh5=deliveryOrder.top_shop)===null||_deliveryOrder$top_sh5===void 0?void 0:_deliveryOrder$top_sh5.available_ingredients)&&deliveryOrder.top_shop.available_ingredients.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"available-ingredients\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u2705 Available Ingredients:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[deliveryOrder.top_shop.available_ingredients.slice(0,5).map((ingredient,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[ingredient.ingredient,\" (\",ingredient.quantity,\" \",ingredient.unit,\")\"]},index)),deliveryOrder.top_shop.available_ingredients.length>5&&/*#__PURE__*/_jsxs(\"li\",{children:[\"... and \",deliveryOrder.top_shop.available_ingredients.length-5,\" more\"]})]})]}),((_deliveryOrder$top_sh6=deliveryOrder.top_shop)===null||_deliveryOrder$top_sh6===void 0?void 0:_deliveryOrder$top_sh6.missing_ingredients)&&deliveryOrder.top_shop.missing_ingredients.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"missing-ingredients\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u274C Missing Ingredients:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[deliveryOrder.top_shop.missing_ingredients.slice(0,3).map((ingredient,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[ingredient.ingredient,\" (\",ingredient.quantity,\" \",ingredient.unit,\")\"]},index)),deliveryOrder.top_shop.missing_ingredients.length>3&&/*#__PURE__*/_jsxs(\"li\",{children:[\"... and \",deliveryOrder.top_shop.missing_ingredients.length-3,\" more\"]})]})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"track-order-button\",onClick:onClose,children:\"Track Order\"})]})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"delivery-dashboard-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-dashboard-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDE9A WeKno Delivery\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Get ingredients delivered to your door!\"})]}),selectedDish&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected-dish-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83C\\uDF7D\\uFE0F \",selectedDish]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Servings: \",selectedServings||2]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"shops-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFEA Available Shops\"}),/*#__PURE__*/_jsx(\"div\",{className:\"shops-grid\",children:shops.map((shop,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`shop-card ${(selectedShop===null||selectedShop===void 0?void 0:selectedShop.name)===shop.name?'selected':''}`,onClick:()=>setSelectedShop(shop),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"shop-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:shop.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"inventory-count\",children:[shop.inventory_count,\" items\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"shop-location\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCD \",shop.location.lat.toFixed(4),\", \",shop.location.lng.toFixed(4)]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"shop-inventory\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sample items:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-tags\",children:[shop.inventory.slice(0,6).map((item,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"inventory-tag\",children:item},idx)),shop.inventory.length>6&&/*#__PURE__*/_jsxs(\"span\",{className:\"inventory-tag\",children:[\"+\",shop.inventory.length-6,\" more\"]})]})]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"agents-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDE9A Delivery Agents\"}),/*#__PURE__*/_jsx(\"div\",{className:\"agents-grid\",children:agents.map((agent,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"agent-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"agent-status\",style:{backgroundColor:agent.status==='available'?'#28a745':'#dc3545'},children:agent.status==='available'?'🟢':'🔴'}),/*#__PURE__*/_jsxs(\"div\",{className:\"agent-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:agent.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",agent.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCCD \",agent.current_location.lat.toFixed(4),\", \",agent.current_location.lng.toFixed(4)]})]})]},index))})]}),selectedShop&&!showCheckout&&/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selected-shop-info\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Selected Shop: \",selectedShop.name]}),/*#__PURE__*/_jsx(\"p\",{children:\"Ready to create delivery order\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"create-order-button\",onClick:()=>setShowCheckout(true),disabled:creatingOrder,children:\"\\uD83D\\uDCB3 Proceed to Checkout\"})]}),selectedShop&&showCheckout&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCB3 Checkout\"}),/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>setShowCheckout(false),children:\"\\u2190 Back to Shop Selection\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCB Delivery Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:checkoutData.fullName,onChange:e=>handleCheckoutChange('fullName',e.target.value),placeholder:\"John Doe\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:checkoutData.phone,onChange:e=>handleCheckoutChange('phone',e.target.value),placeholder:\"+1 (555) 123-4567\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Street Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:checkoutData.address,onChange:e=>handleCheckoutChange('address',e.target.value),placeholder:\"123 Main Street\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"City *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:checkoutData.city,onChange:e=>handleCheckoutChange('city',e.target.value),placeholder:\"San Francisco\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"ZIP Code *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:checkoutData.zipCode,onChange:e=>handleCheckoutChange('zipCode',e.target.value),placeholder:\"94102\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCB3 Payment Method\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-methods\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"payment-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"credit_card\",checked:checkoutData.paymentMethod==='credit_card',onChange:e=>handleCheckoutChange('paymentMethod',e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"Credit Card\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"payment-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"cash\",checked:checkoutData.paymentMethod==='cash',onChange:e=>handleCheckoutChange('paymentMethod',e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"Cash on Delivery\"})]})]}),checkoutData.paymentMethod==='credit_card'&&/*#__PURE__*/_jsxs(\"div\",{className:\"credit-card-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Card Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:checkoutData.cardNumber,onChange:e=>handleCheckoutChange('cardNumber',e.target.value),placeholder:\"1234 5678 9012 3456\",maxLength:\"19\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Expiry Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:checkoutData.expiryDate,onChange:e=>handleCheckoutChange('expiryDate',e.target.value),placeholder:\"MM/YY\",maxLength:\"5\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"CVV *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:checkoutData.cvv,onChange:e=>handleCheckoutChange('cvv',e.target.value),placeholder:\"123\",maxLength:\"4\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCB Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Dish:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedDish})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Servings:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedServings||2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Shop:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedShop.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Estimated Total:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"$25.99\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"create-order-button\",onClick:createDeliveryOrder,disabled:creatingOrder,children:creatingOrder?'Creating Order...':'🚚 Place Order'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-note\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCA1 \",/*#__PURE__*/_jsx(\"strong\",{children:\"How it works:\"})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"We fetch real ingredients from TheMealDB\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Match ingredients with nearby shop inventory\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Find the best shop with highest ingredient coverage\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Assign nearest available delivery agent\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Calculate realistic delivery time\"})]})]})]})});};export default DeliveryDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","DeliveryDashboard","_ref","onClose","selectedDish","selectedServings","addOrder","shops","setShops","agents","setAgents","loading","setLoading","error","setError","selectedShop","setSelectedShop","deliveryOrder","setDeliveryOrder","creatingOrder","setCreatingOrder","showCheckout","setShowCheckout","orderAdded","setOrderAdded","checkoutData","setCheckoutData","fullName","phone","address","city","zipCode","paymentMethod","cardNumber","expiryDate","cvv","fetchShopsAndAgents","success","orderToAdd","dish_name","servings","ingredients","setTimeout","shopsResponse","get","data","agentsResponse","err","console","createDeliveryOrder","validationError","validateCheckoutForm","orderData","user_location","lat","lng","checkout_data","response","post","headers","log","_err$response","_err$response2","_err$response3","_err$response4","_err$response4$data","status","getShopCoverageColor","coverage","handleCheckoutChange","field","value","prev","required","trim","replace","toLowerCase","className","children","onClick","_deliveryOrder$top_sh","_deliveryOrder$top_sh2","_deliveryOrder$top_sh3","_deliveryOrder$delive","_deliveryOrder$top_sh4","_deliveryOrder$top_sh5","_deliveryOrder$top_sh6","order_id","dish","top_shop","name","distance_km","match_percent","delivery_agent","estimated_delivery_time_minutes","available_ingredients","length","slice","map","ingredient","index","quantity","unit","missing_ingredients","shop","inventory_count","location","toFixed","inventory","item","idx","agent","style","backgroundColor","current_location","disabled","type","onChange","e","target","placeholder","checked","maxLength"],"sources":["/Users/roshan/Desktop/we_know_sample_2/frontend/src/components/DeliveryDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst DeliveryDashboard = ({ onClose, selectedDish, selectedServings, addOrder }) => {\n  const [shops, setShops] = useState([]);\n  const [agents, setAgents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedShop, setSelectedShop] = useState(null);\n  const [deliveryOrder, setDeliveryOrder] = useState(null);\n  const [creatingOrder, setCreatingOrder] = useState(false);\n  const [showCheckout, setShowCheckout] = useState(false);\n  const [orderAdded, setOrderAdded] = useState(false);\n  const [checkoutData, setCheckoutData] = useState({\n    fullName: '',\n    phone: '',\n    address: '',\n    city: '',\n    zipCode: '',\n    paymentMethod: 'credit_card',\n    cardNumber: '',\n    expiryDate: '',\n    cvv: ''\n  });\n\n  // Fetch shops and agents on component mount\n  useEffect(() => {\n    fetchShopsAndAgents();\n  }, []);\n\n  // Add order to the orders list when successfully created\n  useEffect(() => {\n    if (deliveryOrder && deliveryOrder.success && addOrder && !orderAdded) {\n      const orderToAdd = {\n        dish_name: selectedDish,\n        servings: selectedServings || 2,\n        ingredients: deliveryOrder.ingredients || []\n      };\n      addOrder(orderToAdd);\n      setOrderAdded(true);\n      \n      // Close the delivery dashboard after successful order placement\n      setTimeout(() => {\n        onClose();\n      }, 1500); // Give user time to see the success message\n    }\n  }, [deliveryOrder, addOrder, selectedDish, selectedServings, orderAdded, onClose]);\n\n  const fetchShopsAndAgents = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch shops\n      const shopsResponse = await axios.get('http://localhost:8000/delivery/shops');\n      setShops(shopsResponse.data.shops);\n      \n      // Fetch agents\n      const agentsResponse = await axios.get('http://localhost:8000/delivery/agents');\n      setAgents(agentsResponse.data.agents);\n      \n      setLoading(false);\n    } catch (err) {\n      setError('Failed to fetch delivery data');\n      setLoading(false);\n      console.error('Error fetching delivery data:', err);\n    }\n  };\n\n  const createDeliveryOrder = async () => {\n    if (!selectedShop || !selectedDish) return;\n\n    // Validate checkout form if showing checkout\n    if (showCheckout) {\n      const validationError = validateCheckoutForm();\n      if (validationError) {\n        setError(validationError);\n        return;\n      }\n    }\n\n    try {\n      setCreatingOrder(true);\n      setOrderAdded(false); // Reset the flag when creating a new order\n      \n      const orderData = {\n        dish_name: selectedDish,\n        servings: selectedServings || 2,\n        user_location: {\n          lat: 37.7749, // Default San Francisco location\n          lng: -122.4194\n        },\n        checkout_data: showCheckout ? checkoutData : null\n      };\n\n      // Use the test endpoint that doesn't require authentication\n      const response = await axios.post('http://localhost:8000/delivery/test', orderData, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      console.log('Delivery order response:', response.data);\n      setDeliveryOrder(response.data);\n      setCreatingOrder(false);\n    } catch (err) {\n      console.error('Error creating delivery order:', err);\n      console.error('Error response:', err.response?.data);\n      \n      // Handle different error types\n      if (err.response?.status === 404) {\n        setError('No ingredients found for this dish. Please try a different dish.');\n      } else if (err.response?.status === 500) {\n        setError('Server error. Please try again later.');\n      } else if (err.response?.data?.error) {\n        setError(err.response.data.error);\n      } else {\n        setError('Failed to create delivery order. Please try again.');\n      }\n      \n      setCreatingOrder(false);\n    }\n  };\n\n  const getShopCoverageColor = (coverage) => {\n    if (coverage >= 80) return '#28a745'; // Green\n    if (coverage >= 60) return '#ffc107'; // Yellow\n    return '#dc3545'; // Red\n  };\n\n  const handleCheckoutChange = (field, value) => {\n    setCheckoutData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const validateCheckoutForm = () => {\n    const required = ['fullName', 'phone', 'address', 'city', 'zipCode'];\n    for (const field of required) {\n      if (!checkoutData[field].trim()) {\n        return `Please fill in ${field.replace(/([A-Z])/g, ' $1').toLowerCase()}`;\n      }\n    }\n    \n    if (checkoutData.paymentMethod === 'credit_card') {\n      if (!checkoutData.cardNumber || !checkoutData.expiryDate || !checkoutData.cvv) {\n        return 'Please fill in all credit card details';\n      }\n    }\n    \n    return null;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"delivery-dashboard-modal\">\n        <div className=\"delivery-dashboard-content\">\n          <div className=\"loading-spinner\">\n            <div className=\"spinner\"></div>\n            <p>Loading delivery options...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"delivery-dashboard-modal\">\n        <div className=\"delivery-dashboard-content\">\n          <button className=\"close-button\" onClick={onClose}>×</button>\n          <div className=\"error-message\">\n            <h3>⚠️ Error</h3>\n            <p>{error}</p>\n            <button onClick={fetchShopsAndAgents}>Retry</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (deliveryOrder && deliveryOrder.success) {\n    return (\n      <div className=\"delivery-dashboard-modal\">\n        <div className=\"delivery-dashboard-content\">\n          <button className=\"close-button\" onClick={onClose}>×</button>\n          \n          <div className=\"order-success\">\n            <div className=\"success-icon\">🎉</div>\n            <h2>Delivery Order Created!</h2>\n            <p>Your ingredients are on the way!</p>\n            \n            <div className=\"order-details\">\n              <h3>Order Details</h3>\n              <div className=\"order-info\">\n                <p><strong>Order ID:</strong> {deliveryOrder.order_id || 'N/A'}</p>\n                <p><strong>Dish:</strong> {deliveryOrder.dish || 'N/A'}</p>\n                <p><strong>Shop:</strong> {deliveryOrder.top_shop?.name || 'N/A'}</p>\n                <p><strong>Distance:</strong> {deliveryOrder.top_shop?.distance_km || 'N/A'} km</p>\n                <p><strong>Match Percentage:</strong> {deliveryOrder.top_shop?.match_percent || 'N/A'}%</p>\n                <p><strong>Delivery Agent:</strong> {deliveryOrder.delivery_agent?.name || 'N/A'}</p>\n                <p><strong>Estimated Time:</strong> {deliveryOrder.estimated_delivery_time_minutes || 'N/A'} minutes</p>\n              </div>\n              \n              <div className=\"ingredient-coverage\">\n                <h4>Ingredient Coverage</h4>\n                <p className=\"coverage-text\">{deliveryOrder.top_shop?.match_percent || 0}% coverage</p>\n                \n                {deliveryOrder.top_shop?.available_ingredients && deliveryOrder.top_shop.available_ingredients.length > 0 && (\n                  <div className=\"available-ingredients\">\n                    <h5>✅ Available Ingredients:</h5>\n                    <ul>\n                      {deliveryOrder.top_shop.available_ingredients.slice(0, 5).map((ingredient, index) => (\n                        <li key={index}>\n                          {ingredient.ingredient} ({ingredient.quantity} {ingredient.unit})\n                        </li>\n                      ))}\n                      {deliveryOrder.top_shop.available_ingredients.length > 5 && (\n                        <li>... and {deliveryOrder.top_shop.available_ingredients.length - 5} more</li>\n                      )}\n                    </ul>\n                  </div>\n                )}\n                \n                {deliveryOrder.top_shop?.missing_ingredients && deliveryOrder.top_shop.missing_ingredients.length > 0 && (\n                  <div className=\"missing-ingredients\">\n                    <h5>❌ Missing Ingredients:</h5>\n                    <ul>\n                      {deliveryOrder.top_shop.missing_ingredients.slice(0, 3).map((ingredient, index) => (\n                        <li key={index}>\n                          {ingredient.ingredient} ({ingredient.quantity} {ingredient.unit})\n                        </li>\n                      ))}\n                      {deliveryOrder.top_shop.missing_ingredients.length > 3 && (\n                        <li>... and {deliveryOrder.top_shop.missing_ingredients.length - 3} more</li>\n                      )}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            <button className=\"track-order-button\" onClick={onClose}>\n              Track Order\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"delivery-dashboard-modal\">\n      <div className=\"delivery-dashboard-content\">\n        <button className=\"close-button\" onClick={onClose}>×</button>\n        \n        <div className=\"delivery-header\">\n          <h2>🚚 WeKno Delivery</h2>\n          <p>Get ingredients delivered to your door!</p>\n        </div>\n\n        {selectedDish && (\n          <div className=\"selected-dish-info\">\n            <h3>🍽️ {selectedDish}</h3>\n            <p>Servings: {selectedServings || 2}</p>\n          </div>\n        )}\n\n        <div className=\"shops-section\">\n          <h3>🏪 Available Shops</h3>\n          <div className=\"shops-grid\">\n            {shops.map((shop, index) => (\n              <div \n                key={index} \n                className={`shop-card ${selectedShop?.name === shop.name ? 'selected' : ''}`}\n                onClick={() => setSelectedShop(shop)}\n              >\n                <div className=\"shop-header\">\n                  <h4>{shop.name}</h4>\n                  <span className=\"inventory-count\">{shop.inventory_count} items</span>\n                </div>\n                <div className=\"shop-location\">\n                  <span>📍 {shop.location.lat.toFixed(4)}, {shop.location.lng.toFixed(4)}</span>\n                </div>\n                <div className=\"shop-inventory\">\n                  <p>Sample items:</p>\n                  <div className=\"inventory-tags\">\n                    {shop.inventory.slice(0, 6).map((item, idx) => (\n                      <span key={idx} className=\"inventory-tag\">{item}</span>\n                    ))}\n                    {shop.inventory.length > 6 && (\n                      <span className=\"inventory-tag\">+{shop.inventory.length - 6} more</span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"agents-section\">\n          <h3>🚚 Delivery Agents</h3>\n          <div className=\"agents-grid\">\n            {agents.map((agent, index) => (\n              <div key={index} className=\"agent-card\">\n                <div className=\"agent-status\" style={{ \n                  backgroundColor: agent.status === 'available' ? '#28a745' : '#dc3545' \n                }}>\n                  {agent.status === 'available' ? '🟢' : '🔴'}\n                </div>\n                <div className=\"agent-info\">\n                  <h4>{agent.name}</h4>\n                  <p>Status: {agent.status}</p>\n                  <p>📍 {agent.current_location.lat.toFixed(4)}, {agent.current_location.lng.toFixed(4)}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {selectedShop && !showCheckout && (\n          <div className=\"delivery-actions\">\n            <div className=\"selected-shop-info\">\n              <h4>Selected Shop: {selectedShop.name}</h4>\n              <p>Ready to create delivery order</p>\n            </div>\n            <button \n              className=\"create-order-button\"\n              onClick={() => setShowCheckout(true)}\n              disabled={creatingOrder}\n            >\n              💳 Proceed to Checkout\n            </button>\n          </div>\n        )}\n\n        {selectedShop && showCheckout && (\n          <div className=\"checkout-section\">\n            <div className=\"checkout-header\">\n              <h3>💳 Checkout</h3>\n              <button \n                className=\"back-button\"\n                onClick={() => setShowCheckout(false)}\n              >\n                ← Back to Shop Selection\n              </button>\n            </div>\n\n            <div className=\"checkout-form\">\n              <div className=\"form-section\">\n                <h4>📋 Delivery Information</h4>\n                <div className=\"form-row\">\n                  <div className=\"form-group\">\n                    <label>Full Name *</label>\n                    <input\n                      type=\"text\"\n                      value={checkoutData.fullName}\n                      onChange={(e) => handleCheckoutChange('fullName', e.target.value)}\n                      placeholder=\"John Doe\"\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label>Phone Number *</label>\n                    <input\n                      type=\"tel\"\n                      value={checkoutData.phone}\n                      onChange={(e) => handleCheckoutChange('phone', e.target.value)}\n                      placeholder=\"+1 (555) 123-4567\"\n                    />\n                  </div>\n                </div>\n                <div className=\"form-group\">\n                  <label>Street Address *</label>\n                  <input\n                    type=\"text\"\n                    value={checkoutData.address}\n                    onChange={(e) => handleCheckoutChange('address', e.target.value)}\n                    placeholder=\"123 Main Street\"\n                  />\n                </div>\n                <div className=\"form-row\">\n                  <div className=\"form-group\">\n                    <label>City *</label>\n                    <input\n                      type=\"text\"\n                      value={checkoutData.city}\n                      onChange={(e) => handleCheckoutChange('city', e.target.value)}\n                      placeholder=\"San Francisco\"\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label>ZIP Code *</label>\n                    <input\n                      type=\"text\"\n                      value={checkoutData.zipCode}\n                      onChange={(e) => handleCheckoutChange('zipCode', e.target.value)}\n                      placeholder=\"94102\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"form-section\">\n                <h4>💳 Payment Method</h4>\n                <div className=\"payment-methods\">\n                  <label className=\"payment-option\">\n                    <input\n                      type=\"radio\"\n                      name=\"paymentMethod\"\n                      value=\"credit_card\"\n                      checked={checkoutData.paymentMethod === 'credit_card'}\n                      onChange={(e) => handleCheckoutChange('paymentMethod', e.target.value)}\n                    />\n                    <span>Credit Card</span>\n                  </label>\n                  <label className=\"payment-option\">\n                    <input\n                      type=\"radio\"\n                      name=\"paymentMethod\"\n                      value=\"cash\"\n                      checked={checkoutData.paymentMethod === 'cash'}\n                      onChange={(e) => handleCheckoutChange('paymentMethod', e.target.value)}\n                    />\n                    <span>Cash on Delivery</span>\n                  </label>\n                </div>\n\n                {checkoutData.paymentMethod === 'credit_card' && (\n                  <div className=\"credit-card-details\">\n                    <div className=\"form-group\">\n                      <label>Card Number *</label>\n                      <input\n                        type=\"text\"\n                        value={checkoutData.cardNumber}\n                        onChange={(e) => handleCheckoutChange('cardNumber', e.target.value)}\n                        placeholder=\"1234 5678 9012 3456\"\n                        maxLength=\"19\"\n                      />\n                    </div>\n                    <div className=\"form-row\">\n                      <div className=\"form-group\">\n                        <label>Expiry Date *</label>\n                        <input\n                          type=\"text\"\n                          value={checkoutData.expiryDate}\n                          onChange={(e) => handleCheckoutChange('expiryDate', e.target.value)}\n                          placeholder=\"MM/YY\"\n                          maxLength=\"5\"\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label>CVV *</label>\n                        <input\n                          type=\"text\"\n                          value={checkoutData.cvv}\n                          onChange={(e) => handleCheckoutChange('cvv', e.target.value)}\n                          placeholder=\"123\"\n                          maxLength=\"4\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"order-summary\">\n                <h4>📋 Order Summary</h4>\n                <div className=\"summary-item\">\n                  <span>Dish:</span>\n                  <span>{selectedDish}</span>\n                </div>\n                <div className=\"summary-item\">\n                  <span>Servings:</span>\n                  <span>{selectedServings || 2}</span>\n                </div>\n                <div className=\"summary-item\">\n                  <span>Shop:</span>\n                  <span>{selectedShop.name}</span>\n                </div>\n                <div className=\"summary-item total\">\n                  <span>Estimated Total:</span>\n                  <span>$25.99</span>\n                </div>\n              </div>\n\n              <button \n                className=\"create-order-button\"\n                onClick={createDeliveryOrder}\n                disabled={creatingOrder}\n              >\n                {creatingOrder ? 'Creating Order...' : '🚚 Place Order'}\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"delivery-note\">\n          <p>💡 <strong>How it works:</strong></p>\n          <ul>\n            <li>We fetch real ingredients from TheMealDB</li>\n            <li>Match ingredients with nearby shop inventory</li>\n            <li>Find the best shop with highest ingredient coverage</li>\n            <li>Assign nearest available delivery agent</li>\n            <li>Calculate realistic delivery time</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeliveryDashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}